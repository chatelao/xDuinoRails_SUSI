# RCN-600

## SUSI Bus

Module Expansion Interface

***

## Contents

- [1 General](#1-general)
  - [1.1 Purpose of the Standard](#11-purpose-of-the-standard)
  - [1.2 Requirements](#12-requirements)
- [2 Mechanical Properties](#2-mechanical-properties)
  - [2.1 classicSUSI Interface](#21-classicsusi-interface)
  - [2.2 microSUSI Interface](#22-microsusi-interface)
  - [2.3 powerSUSI Interface](#23-powersusi-interface)
- [3 Electrical Properties](#3-electrical-properties)
  - [3.1 classicSUSI Interface](#31-classicsusi-interface)
  - [3.2 microSUSI Interface](#32-microsusi-interface)
  - [3.3 powerSUSI Interface](#33-powersusi-interface)
  - [3.4 Decoder Interface](#34-decoder-interface)
  - [3.5 Common Properties](#35-common-properties)
  - [3.6 Logic Levels at the Interface](#36-logic-levels-at-the-interface)
- [4 Protocol](#4-protocol)
- [5 Commands](#5-commands)
- [Appendix A: References to other Standards](#appendix-a-references-to-other-standards)
  - [A.1 Normative References](#a1-normative-references)
  - [A.2 Informative References](#a2-informative-references)
- [Appendix B: History](#appendix-b-history)
- [Appendix C: Command Overview](#appendix-c-command-overview)
- [Appendix D: Identified Problems with Incompatibilities to the Standard](#appendix-d-identified-problems-with-incompatibilities-to-the-standard)
  - [D.1 Data Transmission Rate](#d1-data-transmission-rate)
  - [D.2 Data Signal at Idle Level](#d2-data-signal-at-idle-level)
  - [D.3 Synchronization of Data Transmission](#d3-synchronization-of-data-transmission)
  - [D.4 Acknowledge Duration](#d4-acknowledge-duration)
  - [D.5 Access to CVs below 897](#d5-access-to-cvs-below-897)
  - [D.6 Known Protocol Incompatibilities](#d6-known-protocol-incompatibilities)
- [Appendix E: Circuit Example for Decoders with Vcc = 3.3V](#appendix-e-circuit-example-for-decoders-with-vcc--33v)

***

## 1 General

### 1.1 Purpose of the Standard

This standard describes an interface between a main module, hereinafter referred to as the **Host**, and expansion modules, hereinafter referred to as **SUSI modules**, in a model. These can be sound modules, extended function outputs, or other function modules. The name is an abbreviation for "Serial User Standard Interface".

The SUSI logo is a trademark of Dietz Elektronik GmbH & Co.KG. It can be used freely with compatible products.

### 1.2 Requirements

To comply with this standard, all specified mechanical and electrical characteristics, as well as the defined commands, must be adhered to. It is not necessary to support all commands of the interface. This applies to both the Host and the SUSI modules. The usable/necessary functions should be listed in the description of the respective product. A component tolerance of 10% is permissible for all specified resistance values.

## 2 Mechanical Properties

There are three different connector systems, which also differ in their electrical values.

| Designation  | Connector Type      | Max Load |
| :--- | :--- | :--- |
| classicSUSI  | JST *M04B-SRSS-TB   | 1000 mA  |
| microSUSI    | JST 04XSR-36S       | 200 mA   |
| powerSUSI    | WTB 2.0 5-pin       | 2000 mA  |

"classicSUSI" is the interface known since 2003, predominantly used in H0 scale. "microSUSI" is a small form factor introduced in 2017, e.g., for N scale. "powerSUSI" was added in 2018 for larger gauges and SUSI modules with higher power requirements. The three versions are described in more detail in the following sections. Alternatively, soldering points can be provided for the connection instead of a connector. Additionally, it is also possible to connect a SUSI module to a second decoder interface in the vehicle according to [RCN-118], [RCN-121], or [RCN-122].

### 2.1 classicSUSI Interface

A 4-pin connector system from JST and compatible systems are used. The recommended pin header on the Host is "JST SM04B-SRSS-TB" (horizontal) or "JST BM04B-SRSS-TB" (vertical). The matching cable connectors are "JST 04SR3S" or "JST SRH-04V-S-B". If the SUSI module also has a socket, the wiring is 1:1 (electrically symmetrical).

### 2.2 microSUSI Interface

A 4-pin connector system from JST and compatible systems are used. The recommended pin header on the Host is "JST SM04B-XSRS-ETB". The matching cable connectors are "JST 04XSR-36S". Datasheet at JST.

### 2.3 powerSUSI Interface

A 5-pin connector system from Würth Elektronik WR-WTB with a 2.0 mm pitch is used. Connector types: THT vertical 620 005 116 22, THT horizontal 620 005 117 22, SMT vertical 620 305 124 022, SMT horizontal 620 105 131 822.

The image on the right shows the powerSUSI connector compared to classicSUSI (bottom).

## 3 Electrical Properties

### 3.1 classicSUSI Interface

The maximum load capacity of the classicSUSI interface is 1000 mA.

The interface has four pins:
1.  **Ground** (Decoder − after the rectifier)
2.  **Data**
3.  **Clock**
4.  **Plus** (Decoder + after the rectifier)

### 3.2 microSUSI Interface

The maximum load capacity of the microSUSI interface is 200 mA.

The interface has four pins:
1.  **Ground** (Decoder − after the rectifier)
2.  **Data**
3.  **Clock**
4.  **Plus** (Decoder + after the rectifier)

### 3.3 powerSUSI Interface

The maximum load capacity of the powerSUSI interface is 2000 mA.

The interface has five pins:
1.  **Trigger** (Open-collector signal or contact to ground for synchronization)
2.  **Ground** (Decoder − after the rectifier)
3.  **Data**
4.  **Clock**
5.  **Plus** (Decoder + after the rectifier)

With its higher load capacity, the powerSUSI interface is also suitable for smoke generators, and the additional trigger signal enables wheel-synchronous steam puffs without constantly sending trigger commands. The falling edge determines the timing. The pull-up resistor for the open-collector trigger signal is located on the SUSI module, is connected to the Vcc of the SUSI module, and should be between 4.7 kΩ and 22 kΩ.

### 3.4 Decoder Interface

When using a second decoder interface in the vehicle for connecting a SUSI module, the specifications in [RCN-118], [RCN-121], or [RCN-122] must be observed.

| Signal  | RCN-118 Next18/Next18S | RCN-121 21MTC | RCN-122 PluX |
| :--- | :--- | :--- | :--- |
| Ground  | 5 and 14               | 20            | 5            |
| Data    | 13                     | 6             | 4            |
| Clock   | 4                      | 5             | 3            |
| Plus    | 6 and 15               | 16            | 9            |

Only the four specified signals are connected directly to the decoder. In particular, the track connections are not used when the interface is used as a SUSI interface. All other connections can be used for the functions of the SUSI module.

### 3.5 Common Properties

Recommended cable colors for the 4-pin interfaces:

| Pin | Function | Color  |
| :-- | :--- | :--- |
| 1   | Ground   | Black  |
| 2   | Data     | Gray   |
| 3   | Clock    | Blue   |
| 4   | Plus     | Red    |

Up to 3 SUSI modules can be connected to one Host. The SUSI modules are all connected in parallel. This requires appropriate adapter cables or distribution modules.

Regarding the load capacity, the following applies to all versions: If the Host has a lower load capacity, this must be specified. For each SUSI module, the maximum current consumption drawn from the bus connection must be stated. If a SUSI module requires more current, it must be powered separately. When connecting multiple SUSI modules to a Host, its total load capacity must not be exceeded.

A reverse polarity protection diode should be installed in series on the plus connection of the SUSI module to prevent damage in case of reverse polarity.

A high level must not fall below 0.7 × Vcc. Both lines contain a series resistor of 470 Ω at the Host and at the SUSI module. The data line has a pull-up resistor of ≥ 15 kΩ to Vcc on the Host.

### 3.6 Logic Levels at the Interface

Levels corresponding to Vcc = 5 V and Vcc = 3.3 V are both permissible. The following rules apply:
-   In principle, the supported levels must be specified in the manual.
-   Every SUSI module must tolerate 5V levels.
-   A SUSI module for microSUSI must also accept 3.3V levels.
-   A SUSI module that also accepts 3.3V levels can be marked with "SUSI3".
-   A Host that only supplies 3.3V levels must be marked with "SUSI3". Hosts with a microSUSI socket are exempt from this.

For the user, this means that only SUSI modules with "SUSI3" marking can be safely operated on a Host with "SUSI3" marking. If Hosts and SUSI modules with a microSUSI socket and plug are used, compatibility is also ensured. If a Host with Vcc = 3.3 V is to supply 5V levels to be universally applicable, a level-shifting circuit is required. A suggestion is in Appendix E.

## 4 Protocol

The data transmission is a synchronous unidirectional or half-duplex connection.

All packets are twice—or in one exceptional case, three times—8 bits. The clock is low in the inactive state. Data is sent on the rising edge and must be valid on the falling edge. Data must be read on the falling edge.

Future extensions may generally only be 2-byte packets. The mentioned exception is the commands that begin with the command code 0111-xxxx. These are the programming commands for CV manipulation with 3 bytes, adopted directly from the DCC protocol.

The high or low period of the clock pulse must be ≥ 10 μs; the total period for one bit may not exceed 500 μs. When reading a CV bank using SUSI-BiDi commands, the total period for one bit may not exceed 100 μs. The Host always provides the clock pulse for data transmission. The first transmitted bit is the LSB (Bit 0).

Since a single interference pulse on the clock line in a synchronous transmission leads to a permanent shift of the data, special timing is used for synchronization.

8 ms ±1 ms after a complete byte has arrived, all previously received bits are deleted and the SUSI module is reset. This applies both within and outside a command.

Individual bytes of a command must follow each other within 7 ms. Further commands can be sent seamlessly, i.e., without a time gap, provided they follow the previous last command byte faster than 7 ms. Otherwise, the next command may only begin 9 ms after the last sent byte.

For synchronization, the Host must insert a clock gap of at least 9 ms after a maximum of 20 commands. When reading a CV bank using SUSI-BiDi commands, up to 50 commands may be transmitted without a pause.

Commands that expect a response must be confirmed with an Acknowledge ("ACK") from the SUSI module upon a positive response, by pulling the data line to ground via the 470 Ω resistor. The Acknowledge must be at least 1 ms and at most 2 ms long and must be completed no later than 20 ms after the falling clock edge of the last bit. After 20 ms without a completed Acknowledge, the Host may abort the command with a negative response. A Host must accept Acknowledge pulses from 0.5 to 7 ms as valid. Shorter pulses should be considered invalid to suppress interference.

When accessing CVs 897 to 899 and 1020 to 1024, multiple SUSI modules can respond with an Acknowledge. Therefore, in this case, the Host must always wait the full 20 ms and may not send the next byte immediately after a successfully received Acknowledge.

Error detection or correction is omitted, as the lines are generally very short. It is recommended to keep them at a maximum length of 20 cm between the Host and the SUSI module.

If SUSI modules do not receive valid commands within 100 ms after a reset, they can automatically start in an alternative mode without SUSI command control.

## 5 Commands

The data bytes are fundamentally derived from the DCC commands of [RCN-212] and [RCN-214]. This allows for a very simple forwarding of DCC commands to SUSI modules. [RCN-212] and [RCN-214] contain more detailed descriptions of the individual bits in the commands. Commands are sent from the Host to the SUSI modules as needed, e.g., upon receiving data. At the latest, every active function or speed command should be repeated every 200 ms, even without new data reception, to ensure safe operation even in case of disturbances. If the Host has no external data reception, it can also generate commands independently based on predefined operating states (e.g., in analog mode).

**Function Group 1 (2-Byte):**
`0110 - 0000` (0x60 = 96) `0 0 0 F0 - F4 F3 F2 F1`
*Note: With SUSI, the light function F0 is always sent in FG1.*

**Function Group 2 (2-Byte):**
`0110 - 0001` (0x61 = 97) `F12 F11 F10 F9 - F8 F7 F6 F5`
*Note: With SUSI, the DCC function groups F5-F8 and F9-F12 are combined into one command.*

... *(and so on for all commands)*

## Appendix A: References to other Standards

### A.1 Normative References

When using the corresponding interface, the following standards must be adhered to:
-   [RCN-118] RCN-118 Next18 / Next18S – Interface for small vehicles
-   [RCN-121] RCN-121 21MTC – 21-pin interface
-   [RCN-122] RCN-122 PluX – 22 and 16-pin interface
-   [RCN-602] RCN-602 Configuration Variables for SUSI

### A.2 Informative References

The standards and documents listed here are for informational purposes only and are not part of this standard.
-   [RCN-212] RCN-212 DCC Operating Commands for Vehicle Decoders
-   [RCN-214] RCN-214 DCC Configuration Commands
-   [RCN-226] RCN-226 DCC Special Values for Configuration
-   [RCN-601] RCN-601 SUSI-Bidirectional
-   [S-9.2.2 Appendix A] NMRA: S-9.2.2 Appendix A Manufacturer ID codes

... *(rest of the appendices)*
